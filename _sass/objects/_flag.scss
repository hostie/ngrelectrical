/*-----------------------------------*\
    FLAG
\*-----------------------------------*/

/**
 * The flag object is a design pattern similar to the media object, however it
 * utilises `display: table[-cell];` to give us control over the vertical
 * alignments of the text and image.
 *
    <div class="flag">
        <div class="flag__image">
            <img src="//placekitten.com/100/100" alt="" />
        </div>

        <div class="flag__body">
            <p>Pellentesque habitant.</p>
        </div>
    </div>
 *
 */

/**
 * 1. Allows us to control vertical alignments
 * 2. Force the object to be the full width of its parent. Combined with [1],
 *    this makes the object behave in a quasi-`display: block;` manner.
 */
.flag,
%flag {
    display: table; /* [1] */
    width: 100%; /* [2] */
}

 /**
  * Items within a flag object. There should only ever be one of each.
  *
  * 1. Default to aligning content to their middles.
  */
 .flag__img,
 %flag__img,
 .flag__body,
 %flag__body {
     display: table-cell;
     vertical-align: middle; /* [1] */
}

 /**
  * Flag images have a space between them and the body of the object.
  */
 .flag__img,
 %flag__img {
     padding-right: $spacing-unit;

     > img {
        display: block;
        max-width: none;
     }

}

/**
 * The container for the main content of the flag object.
 *
 * 1. Forces the `.flag__body` to take up all remaining space.
 */
.flag__body,
%flag__body {
    width: 100%; /* [1] */

    &,
    > :last-child {
        margin-bottom: 0;
    }

}

// Alter variables below in order to alter / enable specific features.
$enable-flag--rev:        false !default;
$enable-flag--top:        false !default;
$enable-flag--bottom:     false !default;

@if ($enable-flag--rev == true) {

    /**
     * Reversed flag objects have their image-content to the right, and text-content
     * to the left.
     *
     * 1. Swap the rendered direction of the object…
     * 2. …and reset it.
     * 3. Reassign margins to the correct sides.
     */

    .flag--rev,
    %flag--rev {
        direction: rtl; /* [1] */

        > .flag__img,
        > %flag__img,
        > .flag__body,
        > %flag__body {
            direction: ltr; /* [2] */
        }

        > .flag__img,
        > %flag__img {
            padding-right: 0; /* [3] */
            padding-left: $spacing-unit; /* [3] */
        }

    }

}

@if ($enable-flag--top == true) {

    /**
     * Vertically top aligned flag objects.
     */

    .flag--top,
    %flag--top {

        > .flag__img,
        > %flag__img,
        > .flag__body,
        > %flag__body {
            vertical-align: top;
        }

    }

}

@if ($enable-flag--bottom == true) {

    /**
     * Vertically bottom aligned flag objects.
     */

    .flag--bottom,
    %flag--bottom {

        > .flag__img,
        > %flag__img,
        > .flag__body,
        > %flag__body {
            vertical-align: bottom;
        }

    }

}
